<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bar Graph</title>
    <link rel="stylesheet" href="./assets/css/bargraph.css" />
  </head>
  <body>
    <div class="chartCard">
      <div class="chartBox">
        <p>2024 Home Price Forcasts</p>
        <p>Percent Appreciation/Depreciation as of 1/23/2024</p>
        <canvas id="myChart"></canvas>
      </div>
    </div>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"
    ></script>
    <script>
      // setup
      const data = {
        datasets: [
          {
            data: [2.1, 4.1, 3.5, 3.2, 2.6, 2.4, 1.9, 0.7, -1.7],
            backgroundColor: [
              "#00adf7",
              "#72c05d",
              "#72c05d",
              "#72c05d",
              "#72c05d",
              "#72c05d",
              "#72c05d",
              "#72c05d",
              "#fe3b05",
            ],
          },
        ],
        labels: [
          "Average of All 8",
          "MBA",
          "Zillow",
          "Fannie Mac",
          "Freddie Mac",
          "Hpes",
          "Goldman Sachs",
          "NAR",
          "Realtor.com",
        ],
      };

      // config
      const config = {
        type: "bar",
        data,
        options: {
          scales: {
            x: {
              position: "bottom",
            },
            y: {
              beginAtZero: true,
              ticks: {
                display: true, // This hides the y-axis ticks (side numbers)
              },
              grid: {
                color: (context) => {
                  console.log(context);
                  const zeroline = context.tick.value;
                  const barColor = zeroline === 0 ? "#6d7074" : "#b8b9bb";
                  return barColor;
                },
              },
            },
          },
        },
      };

      // render init block
      const myChart = new Chart(document.getElementById("myChart"), config);

      // Instantly assign Chart.js version
      const chartVersion = document.getElementById("chartVersion");
      chartVersion.innerText = Chart.version;
    </script>
  </body>
</html>
